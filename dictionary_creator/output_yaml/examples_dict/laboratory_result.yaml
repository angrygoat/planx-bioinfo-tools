$schema: "http://json-schema.org/draft-04/schema#"

id: "laboratory_result"
title: Laboratory Result
type: object
namespace: http://www.gen3.org
category: Biomarkers
program: '*'
project: '*'
description: >
  Measurements obtained for the specific Laboratory Test
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - state
  - created_datetime
  - updated_datetime

links:
  - name: laboratory_tests
    backref: laboratory_results
    label: measured_from
    target_type: laboratory_test
    multiplicity: one_to_one
    required: true

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

required:
  - submitter_id
  - type
  - laboratory_tests

properties:
  $ref: "_definitions.yaml#/ubiquitous_properties"

  test_analyte_type:
    description: >
      Type of the collected
    enum:
      - "3-methoxytyramine"
      - "Alanine Aminotransferase"
      - "Alpha-synuclein"
      - "Alpha-tocopherol 4 Weeks After Treatment"
      - "Alpha-tocopherol Baseline"
      - "Alpha-tocopherol On Treatment"
      - "Amyloid-Beta"
      - "Anti-Alpha-synuclein Antibody"
      - "Biopterin"
      - "Blood Urea Nitrogen"
      - "Chloride"
      - "Circulating Brain-Enriched miRNA"
      - "CRP40 Expression"
      - "Dihydroxyphenylacetic Acid"
      - "Dopamine-3-sulfate"
      - "Dopamine"
      - "GBA Enzymatic Activity"
      - "Hemoglobin"
      - "Homovanillic Acid"
      - "Homovanillol"
      - "Immune Markers"
      - "Inflammatory Cytokines"
      - "LRRK2 Enzymatic Activity"
      - "Lysosomal Enzyme Activity"
      - "Met-Enkephelin"
      - "Metabolites"
      - "MRM Combination"
      - "mtDNA85"
      - "N-acetylspermidine"
      - "Neopterin"
      - "Phosphorylated Tau Protein (p-tau)"
      - "Red Blood Cells"
      - "RNA"
      - "Ser(P)-1292 LRRK2"
      - "Somatostatin"
      - "Total Glucose"
      - "Total Protein"
      - "Total Tau Protein (t-tau)"
      - "Urate Purine"
      - "White Blood Cells"
      - "Alanine Aminotransferase (ALT)"
      - "Carbon Dioxide"
      - "Creatinine"
      - "Hematocrit"
      - "Hemoglobin"
      - "Platelet"
      - "Potassium"
      - "Red Blood Cells"
      - "Sodium"
      - "White Blood Cells"
      - "Tocopherol"

  test_units:
    description: >
      Units used for this value
    enum:
      - "mM"
      - "nM"
      - "copies/µL"
      - "cells/µl"
      - "Cell Count"
      - "pg/mL"
      - "ng/mL"
      - "mg/mL"
      - "µg/mL"
      - "Units of Activity"
      - "katal"
      - "µmol/g/h"

  test_result:
    description: >
      Laboratory Test Result
    enum:
      - "Positive"
      - "Negative"
      - "Normal"
      - "Abnormal"
      - "Too Low"
      - "Too High"
      - "Yes"
      - "No"
      - "Clinically Significant Abnormal"
      - "Yes"
      - "No"

  test_value:
    description: >
      Value measured from this laboratory test 
    type: number

  slope:
    description: >
      Slope
    type: number

  high_range:
    description: >
      Laboratory Test High Range
    type: number

  low_range:
    description: >
      Laboratory Test Low Range
    type: number

  blood_test_result_flag:
    description: >
      Blood Chemistry And Hematology Test Result Flag
    type: string

  lab_result_changed:
    description: >
      Result Has Changed From The Value Reported On The 1st Visit (DELTA)
    type: string

  test_out_of_range_alert:
    description: >
      Out Of Range Alert in a laboratory test value
    type: string

  metabolite_below_limit_of_detection:
    description: >
      Non-Targeted Global Metabolomic Profiling Data Info Test Name - Below LOD
    type: string

  metabolite_test_run:
    description: >
      Non-Targeted Global Metabolomic Profiling Data Info  (Median Scaled wo Imputes) Test Run First Or Second
    type: string

  laboratory_tests:
    $ref: "_definitions.yaml#/to_one"
